{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MDT\\\\IdeaProjects\\\\solar-panel-monitoring-system\\\\front\\\\src\\\\components\\\\common\\\\Navbar.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AuthContext } from '../auth/AuthContext';\nimport UserService from '../service/UserService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Navbar() {\n  _s();\n  const {\n    isAuthenticated,\n    isAdmin,\n    refreshAuthState\n  } = useContext(AuthContext);\n  const handleLogout = () => {\n    const confirmLogout = window.confirm('Are you sure you want to logout?');\n    if (confirmLogout) {\n      UserService.logout();\n      localStorage.removeItem('token');\n      localStorage.removeItem('role');\n      refreshAuthState(); // Refresh state after logout\n      window.location.reload();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [!isAuthenticated && /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: \"Kalana De Silva\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 38\n      }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/profile\",\n          children: \"Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 37\n      }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin/user-management\",\n          children: \"User Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 29\n      }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          onClick: handleLogout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 37\n      }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/monitoring\",\n          children: \"Monitoring\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 37\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 9\n  }, this);\n}\n_s(Navbar, \"iZw6aJTJGmTRUO03Hxut26bul4c=\");\n_c = Navbar;\nexport default Navbar;\nvar _c;\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"names":["React","useContext","Link","AuthContext","UserService","jsxDEV","_jsxDEV","Navbar","_s","isAuthenticated","isAdmin","refreshAuthState","handleLogout","confirmLogout","window","confirm","logout","localStorage","removeItem","location","reload","children","to","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/MDT/IdeaProjects/solar-panel-monitoring-system/front/src/components/common/Navbar.jsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AuthContext } from '../auth/AuthContext';\nimport UserService from '../service/UserService';\n\nfunction Navbar() {\n    const { isAuthenticated, isAdmin, refreshAuthState } = useContext(AuthContext);\n\n    const handleLogout = () => {\n        const confirmLogout = window.confirm('Are you sure you want to logout?');\n        if (confirmLogout) {\n            UserService.logout();\n            localStorage.removeItem('token');\n            localStorage.removeItem('role');\n            refreshAuthState(); // Refresh state after logout\n            window.location.reload();\n        }\n    };\n\n    return (\n        <nav>\n            <ul>\n                {!isAuthenticated && <li><Link to=\"/\">Kalana De Silva</Link></li>}\n                {isAuthenticated && <li><Link to=\"/profile\">Profile</Link></li>}\n                {isAdmin && <li><Link to=\"/admin/user-management\">User Management</Link></li>}\n                {isAuthenticated && <li><Link to=\"/\" onClick={handleLogout}>Logout</Link></li>}\n                {isAuthenticated && <li><Link to=\"/monitoring\">Monitoring</Link></li>}\n            </ul>\n        </nav>\n    );\n}\n\nexport default Navbar;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,SAASC,IAAI,QAAQ,kBAAkB;AACvC,SAASC,WAAW,QAAQ,qBAAqB;AACjD,OAAOC,WAAW,MAAM,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,SAASC,MAAMA,CAAA,EAAG;EAAAC,EAAA;EACd,MAAM;IAAEC,eAAe;IAAEC,OAAO;IAAEC;EAAiB,CAAC,GAAGV,UAAU,CAACE,WAAW,CAAC;EAE9E,MAAMS,YAAY,GAAGA,CAAA,KAAM;IACvB,MAAMC,aAAa,GAAGC,MAAM,CAACC,OAAO,CAAC,kCAAkC,CAAC;IACxE,IAAIF,aAAa,EAAE;MACfT,WAAW,CAACY,MAAM,CAAC,CAAC;MACpBC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;MAChCD,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;MAC/BP,gBAAgB,CAAC,CAAC,CAAC,CAAC;MACpBG,MAAM,CAACK,QAAQ,CAACC,MAAM,CAAC,CAAC;IAC5B;EACJ,CAAC;EAED,oBACId,OAAA;IAAAe,QAAA,eACIf,OAAA;MAAAe,QAAA,GACK,CAACZ,eAAe,iBAAIH,OAAA;QAAAe,QAAA,eAAIf,OAAA,CAACJ,IAAI;UAACoB,EAAE,EAAC,GAAG;UAAAD,QAAA,EAAC;QAAe;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAChEjB,eAAe,iBAAIH,OAAA;QAAAe,QAAA,eAAIf,OAAA,CAACJ,IAAI;UAACoB,EAAE,EAAC,UAAU;UAAAD,QAAA,EAAC;QAAO;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAC9DhB,OAAO,iBAAIJ,OAAA;QAAAe,QAAA,eAAIf,OAAA,CAACJ,IAAI;UAACoB,EAAE,EAAC,wBAAwB;UAAAD,QAAA,EAAC;QAAe;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAC5EjB,eAAe,iBAAIH,OAAA;QAAAe,QAAA,eAAIf,OAAA,CAACJ,IAAI;UAACoB,EAAE,EAAC,GAAG;UAACK,OAAO,EAAEf,YAAa;UAAAS,QAAA,EAAC;QAAM;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAC7EjB,eAAe,iBAAIH,OAAA;QAAAe,QAAA,eAAIf,OAAA,CAACJ,IAAI;UAACoB,EAAE,EAAC,aAAa;UAAAD,QAAA,EAAC;QAAU;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEd;AAAClB,EAAA,CAzBQD,MAAM;AAAAqB,EAAA,GAANrB,MAAM;AA2Bf,eAAeA,MAAM;AAAC,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}